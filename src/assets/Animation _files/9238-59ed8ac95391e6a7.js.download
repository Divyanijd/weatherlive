"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9238],{19088:function(e,n,l){l.r(n),l.d(n,{GridView:function(){return U},default:function(){return E}});var o=l(97458),i=l(52983),t=l(75800),s=l(96734),a=l(78463),d=l(37210),r=l(83849),c=l.n(r),u=l(32088),h=l(64407),f=l(92927),m=l(57405);const v=(0,d.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),p=e=>{let{workspaceId:n}=e;const l=(0,s.SS)(a.AD.FILE_UPLOAD_LIMIT),{onClick:t}=(0,f.Z)({workspaceId:n}),{planName:d}=(0,m.g)(n),[r,u]=(0,i.useState)(!1),h=(0,i.useCallback)((()=>{u(!0)}),[]),p=(0,i.useCallback)((()=>{u(!1)}),[]);return(0,o.jsx)("div",{onMouseEnter:h,onMouseLeave:p,className:c()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:r&&(0,o.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",l.value," most recently uploaded files on your current ",d,". Upgrade to access all your files."]}),(0,o.jsx)(v,{onClick:t,children:"Upgrade"})]})})},C=e=>{let{animation:n,disableMenu:l,isSelected:i,onClick:t,onSelectionChange:s,selectable:a,selectionMode:d,showAddToCollection:r,showStatus:c=!0,showUpdatedUser:f,workspaceId:m}=e;var v,C,b,g,w,x,k;const j=(0,h.Q)(m),y=!(j.length>0)||j.includes(n.id),M=Boolean(n.currentVersion.communityAnimationId);return(0,o.jsxs)("div",{className:"relative rounded-md",children:[!y&&!M&&(0,o.jsx)(p,{workspaceId:n.project.workspaceId}),(0,o.jsx)(u.K,{scopes:n.animationPermissionScopes,animation:n,backgroundColor:n.backgroundColor,thumbnail:null===(g=n.fileObject)||void 0===g||null===(b=g.thumbnails)||void 0===b||null===(C=b.webp)||void 0===C||null===(v=C.medium)||void 0===v?void 0:v.url,title:n.name,url:null===(w=n.fileObject)||void 0===w?void 0:w.url,showUpdatedUser:f,username:n.modifiedBy?n.modifiedBy.name:null===(x=n.createdBy)||void 0===x?void 0:x.name,project:null===(k=n.project)||void 0===k?void 0:k.title,date:n.updatedAt,selectable:a,selected:i,onSelectionChange:s,selectionMode:d,showStatus:c,status:n.status,onClick:t,disableMenu:l,showAddToCollection:r,upgradeRequired:!y&&!M})]})};var b=l(8e3),g=l.n(b),w=l(4071),x=l(33650),k=l(84049),j=l(66823),y=l(63988),M=l(59239),N=l(31945);const S=g()((async()=>Promise.all([l.e(3302),l.e(7255),l.e(3020),l.e(617),l.e(3547),l.e(3156),l.e(6673),l.e(1999),l.e(3274),l.e(9666)]).then(l.bind(l,33772))),{loadableGenerated:{webpack:()=>[33772]},ssr:!1}),A=e=>{let{disableMenu:n=!1,file:l,isSelected:t=!1,onClick:s,onSelectionChange:a,selectable:d=!1,selectionMode:r=!1}=e;var u,h,f,m,v,p,C,b,g,A,L;const[I,F]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),{canFullAccess:E}=(0,y.a)({scopes:l.animationPermissionScopes||[]}),K=(0,i.useCallback)((()=>{U(!1)}),[]),_=(0,i.useCallback)((()=>{a&&a()}),[a]),D=(0,i.useCallback)((()=>{F(!0)}),[F]),V=(0,i.useCallback)((()=>{F(!1)}),[F]),z=(0,i.useCallback)((()=>{E()&&U(!0)}),[E]),q=(0,i.useCallback)((e=>{if(r&&a)a();else if(s){const n=N.Mq?e.metaKey:e.ctrlKey;s(n)}}),[a,s,r]),H=(0,i.useCallback)((e=>{if("Space"===e.key)if(r&&a)a();else if(s){const n=N.Mq?e.metaKey:e.ctrlKey;s(n)}}),[s,a,r]),P=(0,M.h)(q,z);return(0,o.jsxs)("div",{className:"relative z-0 w-full group aspect-square",onMouseEnter:D,onMouseLeave:V,children:[(0,o.jsx)("svg",{className:c()("absolute inset-0 w-full h-full",{"creator-drop-shadow":I}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,o.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,o.jsxs)("div",{className:"absolute inset-0 w-full h-full",children:[(0,o.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,o.jsx)("div",{onKeyDown:H,onClick:q,className:"absolute inset-0 z-10 cursor-pointer"}),(0,o.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,o.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,o.jsx)(x.y,{src:(null===(m=l.fileObject)||void 0===m||null===(f=m.thumbnails)||void 0===f||null===(h=f.webp)||void 0===h||null===(u=h.medium)||void 0===u?void 0:u.url)||(null===(b=l.fileObject)||void 0===b||null===(C=b.thumbnails)||void 0===C||null===(p=C.png)||void 0===p||null===(v=p.medium)||void 0===v?void 0:v.url)})})})]}),(0,o.jsx)(S,{showActionsMenu:I,animation:l,isMenuDisabled:n,onTitleClick:P,showFilledIcon:I,projectName:null===(g=l.project)||void 0===g?void 0:g.title,showAddToCollection:!1,title:l.name,updatedDate:l.updatedAt,showUpdatedUser:!0,username:l.modifiedBy?"".concat(null===(A=l.modifiedBy)||void 0===A?void 0:A.firstName):"".concat(null===(L=l.createdBy)||void 0===L?void 0:L.firstName)})]}),(0,o.jsxs)("svg",{className:c()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":t,"text-gray-100":!t}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,o.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),t?(0,o.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,o.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,o.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,o.jsx)("div",{className:"absolute z-20 flex justify-between w-full top-2 right-2",children:(0,o.jsx)(k.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(I&&d||t||r)&&E()&&(0,o.jsx)(j.X,{label:"check-card",checked:t,onChange:_})})}),(0,o.jsx)(w.default,{show:B,animationId:l.id,animationName:l.name,close:K})]})};var L=l(18406),I=l(37325),F=l(773),B=l(63567);const U=e=>{let{canLoadMore:n=!1,files:l,isLoadingMore:s=!1,onLoadMore:a=(()=>{}),onSelectionChange:d,onFolderDownloadAllClick:r,selectable:c=!1,selectedAnimations:u,selectionMode:h,showUpdatedUser:f=!0,showAddToCollection:m=!1,showStatus:v=!0,onItemClick:p,workspaceId:b}=e;const g=(0,t.useRecoilValue)(I.Y),w=(0,i.useCallback)((e=>()=>{d&&d(e.id)}),[d]),x=(0,i.useCallback)((e=>n=>p(e,n)),[p]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:l.map((e=>{const n="file-card-".concat(e.id);var l,i;return(0,F.qR)(e)?(0,o.jsx)(L.A,{onClick:x(e),title:e.name,username:(null===(l=e.modifiedBy)||void 0===l?void 0:l.name)||(null===(i=e.createdBy)||void 0===i?void 0:i.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:r,selectable:c,selectionMode:h,onSelectionChange:w(e),isSelected:!!u&&Boolean(u.some((n=>n.id===e.id)))},n):(0,F.QR)(e)?(0,o.jsx)(C,{animation:e,showUpdatedUser:f,showStatus:v,selectable:c,isSelected:!!u&&Boolean(u.some((n=>n.id===e.id))),onSelectionChange:w(e),selectionMode:h,onClick:x(e),disableMenu:g>0,showAddToCollection:m,workspaceId:b},n):(0,F.xK)(e)?(0,o.jsx)(A,{file:e,onClick:x(e),selectable:c,onSelectionChange:w(e),isSelected:!!u&&Boolean(u.includes(e)),disableMenu:g>0,selectionMode:h}):(0,o.jsx)(o.Fragment,{})}))}),n&&(0,o.jsx)(B.Q,{className:"col-span-full",onLoadMore:a,loadingMore:s})]})};var E=U},64407:function(e,n,l){l.d(n,{Q:function(){return r}});var o=l(52983),i=l(80794),t=l(58843),s=l(64651),a=l(78463),d=l(31945);const r=e=>{const n=(0,t.hp)(e),l=(0,d.fK)(n),[r]=(0,i.aM)({query:s.Z$,pause:!e||!n||!l||l!==a.Qi.FREE,variables:{workspaceId:e}});return(0,o.useMemo)((()=>{var e;return l===a.Qi.FREE&&(null===(e=r.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[r,l])}},22210:function(e,n,l){l.d(n,{E:function(){return t}});var o=l(60463),i=l(3327);function t(e,n,l){const t=(0,i.Q)(e,null==l?void 0:l.in);return isNaN(n)?(0,o.L)((null==l?void 0:l.in)||e,NaN):n?(t.setDate(t.getDate()+n),t):t}},62389:function(e,n,l){l.d(n,{y:function(){return i}});var o=l(60463);function i(e){return(0,o.L)(e,Date.now())}},37226:function(e,n,l){l.d(n,{K:function(){return t}});var o=l(28109),i=l(594);function t(e,n,l){const[t,s]=(0,o.d)(null==l?void 0:l.in,e,n);return+(0,i.b)(t)==+(0,i.b)(s)}},70869:function(e,n,l){l.d(n,{F:function(){return i}});var o=l(28109);function i(e,n,l){const[i,t]=(0,o.d)(null==l?void 0:l.in,e,n);return i.getFullYear()===t.getFullYear()}},99779:function(e,n,l){l.d(n,{X:function(){return s}});var o=l(60463),i=l(62389),t=l(70869);function s(e,n){return(0,t.F)((0,o.L)((null==n?void 0:n.in)||e,e),(0,i.y)((null==n?void 0:n.in)||e))}},19506:function(e,n,l){l.d(n,{z:function(){return s}});var o=l(60463),i=l(62389),t=l(37226);function s(e,n){return(0,t.K)((0,o.L)((null==n?void 0:n.in)||e,e),(0,i.y)((null==n?void 0:n.in)||e))}},96592:function(e,n,l){l.d(n,{g:function(){return a}});var o=l(60463),i=l(62389),t=l(37226),s=l(28733);function a(e,n){return(0,t.K)((0,o.L)((null==n?void 0:n.in)||e,e),(0,s.k)((0,i.y)((null==n?void 0:n.in)||e),1))}},28733:function(e,n,l){l.d(n,{k:function(){return i}});var o=l(22210);function i(e,n,l){return(0,o.E)(e,-n,l)}}}]);