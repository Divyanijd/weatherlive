"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4570,4071],{63567:function(e,s,l){l.d(s,{Q:function(){return c}});var a=l(97458),n=l(83849),t=l.n(n),r=(l(52983),l(89103)),i=l(90765);const c=e=>{let{className:s,loaderClassName:l,loadingMore:n,onLoadMore:c}=e;const o=(0,i.S)({onIntersecting:c});return(0,a.jsx)("div",{className:t()("w-full flex justify-center items-center",s),ref:o,children:(0,a.jsx)(r.a,{type:"spinner",customSize:40,className:t()(l,{hidden:!n})})})}},30537:function(e,s,l){l.d(s,{v:function(){return o}});var a=l(97458),n=l(19506),t=l(96592),r=l(99779),i=l(23986),c=l(52983);const o=e=>{let{date:s}=e;const[l,o]=(0,c.useState)(""),d=(0,c.useCallback)((()=>{const e=new Date(s);(0,n.z)(e)?o("today"):(0,t.g)(e)?o("yesterday"):(0,r.X)(e)?o("".concat((0,i.WU)(e,"d MMM"))):o("".concat((0,i.WU)(e,"yy/M/d")))}),[s]);return(0,c.useEffect)((()=>{d()}),[d]),(0,a.jsx)("span",{children:l})}},14700:function(e,s,l){l.d(s,{Z:function(){return n}});var a=l(97458);l(52983);const n=e=>{let{additionalClasses:s,children:l}=e;return(0,a.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(s),children:l})}},32088:function(e,s,l){l.d(s,{K:function(){return E}});var a=l(97458),n=l(83849),t=l.n(n),r=l(8e3),i=l.n(r),c=l(52983),o=l(773),d=l(68410),u=l(84049),h=l(66823),m=l(82303),x=l(63988),b=l(59239),f=l(90335),j=l(31945),v=l(33063),p=l(70222),g=l(74456),y=l(19906),C=l(84144);const w=i()((async()=>l.e(4071).then(l.bind(l,4071))),{loadableGenerated:{webpack:()=>[4071]},ssr:!1}),k=i()((async()=>Promise.resolve().then(l.bind(l,82303))),{loadableGenerated:{webpack:()=>[82303]},ssr:!1}),N=i()((async()=>Promise.all([l.e(3302),l.e(7255),l.e(3020),l.e(617),l.e(3547),l.e(3156),l.e(6673),l.e(1999),l.e(3274),l.e(5830)]).then(l.bind(l,33772))),{loadableGenerated:{webpack:()=>[33772]},ssr:!1}),S=e=>{let{isCollapsed:s=!1,status:l}=e;const n=d.W.find((e=>e.value===l));return l&&n?s?(0,a.jsx)("div",{className:"px-2 py-1",children:n.icon}):(0,a.jsx)("div",{className:"px-2 py-1 text-gray-600 bg-gray-100 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs leading-[18px]",children:[n.icon,(0,a.jsx)("p",{children:n.label})]})}):(0,a.jsx)(a.Fragment,{})},M=e=>{let{hasFullAccess:s,isHovered:l,isInSelectionMode:n,isSelectable:t,isSelected:r,onCheckboxChange:i}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center w-5 h-5 ml-auto mr-3 overflow-hidden",children:(l&&t||r||n)&&s&&(0,a.jsx)(h.X,{label:"check-card",checked:r,onChange:i})})},A=e=>{let{animation:s,backgroundColor:l,hasFullAccess:n,hasPlayerError:r,hasThumbnailError:i,isCreator:o,isHovered:d,isInSelectionMode:h,isSelectable:x,isSelected:b,onCheckboxChange:j,onOverlayClick:p,onOverlayKeydown:w,onPlayerError:N,onThumbnailError:A,playerRef:E,playerRefCallback:F,showStatus:I=!0,status:T,thumbnailSrc:Z,title:D,url:K}=e;const R=s.fileObject.attributes.formatVersion,z=(0,f.sZ)(s.project.workspaceId),[O,P]=(0,c.useState)(!1),U=Boolean(s.currentVersion.communityAnimationId),H=Boolean(s.isSystemUploaded&&1===s.currentVersion.versionNumber);return(0,v.m$)(E,N),(0,a.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] select-none relative z-0 p-2",style:{backgroundColor:null!=l?l:"none"},children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 z-20 flex items-center w-full h-10 cursor-pointer",children:[I&&(0,a.jsx)(k,{source:m.AnimationStatusSource.ANIMATION_CARD_DROPDOWN,featureService:z,animationId:s.id,animationStatus:s.status,projectId:s.project.id,workspaceId:s.project.workspaceId,handleStatusSelectorChange:e=>{P(e)},dropdownOffset:8,customTrigger:(0,a.jsx)("div",{className:t()({"cursor-pointer ml-1":I&&s.status,hidden:!I||!s.status}),children:(0,a.jsx)(u.Z,{tag:"div",variant:"caption-1",children:(0,a.jsx)(S,{status:T,isCollapsed:!(d||O)})})})}),(U||H)&&(0,a.jsxs)("div",{className:t()({"ml-0.5":I&&s.status,"ml-3":!I||!s.status}),children:[U&&!H&&(0,a.jsx)(y.u,{placement:"right",fullMaxWidth:!0,title:(0,a.jsxs)(a.Fragment,{children:["Saved from free community animation",(0,a.jsx)("br",{}),"library"]}),children:(0,a.jsx)(C.oul,{className:"text-gray-500",width:16,height:16})}),H&&(0,a.jsx)(y.u,{title:"Sample animation",placement:"right",children:(0,a.jsx)("span",{className:"text-[10px] px-2 py-[1px] rounded-full text-text-primary bg-foreground-2",children:"Sample"})})]}),(0,a.jsx)(M,{hasFullAccess:n,isInSelectionMode:h,isSelectable:x,isSelected:b,onCheckboxChange:j,isHovered:d})]}),(0,a.jsx)("div",{onKeyDown:w,onClick:p,className:"absolute inset-0 z-10 cursor-pointer"}),(0,a.jsx)(g._,{hasPlayerError:r,dotLottieFormatVersion:R,isCreator:o,isHovered:d,animationSrc:K,playerRefCallback:F,thumbnailSrc:Z,onThumbnailError:A,alt:D,hasThumbnailError:i})]})},E=e=>{let{animation:s,backgroundColor:l=null,date:n,disableMenu:r=!1,onClick:i,onSelectionChange:d,project:u,scopes:h,selectable:m=!1,selected:f=!1,selectionMode:v=!1,showAddToCollection:g,showStatus:y=!0,showUpdatedUser:C=!0,status:k,thumbnail:S,title:M,upgradeRequired:E,url:F,username:I}=e;const[T,Z]=(0,c.useState)(!1),{canFullAccess:D}=(0,x.a)({scopes:h||[]}),[K,R]=(0,c.useState)(!1),[z,O]=(0,c.useState)(!1),[P,U]=(0,c.useState)(!1),[H,V]=(0,p.k)(),_=(0,c.useMemo)((()=>(0,o.xK)(s)),[s]),L=(0,c.useCallback)((()=>{null==H||H.play(),Z(!0)}),[H,Z]),W=(0,c.useCallback)((()=>{null==H||H.pause(),Z(!1)}),[H,Z]),q=(0,c.useCallback)((()=>{d&&d()}),[d]),B=(0,c.useCallback)((()=>{R(!1)}),[]),G=(0,c.useCallback)((e=>{if(v&&d)d();else if(i){const s=j.Mq?e.metaKey:e.ctrlKey;i(s)}}),[d,i,v]),X=(0,c.useCallback)((e=>{if("Space"===e.key)if(v&&d)d();else if(i){const s=j.Mq?e.metaKey:e.ctrlKey;i(s)}}),[i,d,v]),Q=(0,c.useCallback)((()=>{O(!0)}),[]),$=(0,c.useCallback)((()=>{U(!0)}),[]),J=(0,c.useCallback)((()=>{D()&&R(!0)}),[D]),Y=(0,b.h)(G,J);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:t()("relative w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group hover:shadow-md",{"selected-card":f,"opacity-30":E}),onMouseEnter:L,onMouseLeave:W,children:(0,a.jsxs)("div",{className:"animation",children:[(0,a.jsx)(A,{animation:s,backgroundColor:l,hasFullAccess:D(),isCreator:_,isHovered:T,hasThumbnailError:z,hasPlayerError:P,isSelectable:m,isSelected:f,isInSelectionMode:v,showStatus:y,status:k,title:M,thumbnailSrc:S,url:F,playerRefCallback:V,playerRef:H,onCheckboxChange:q,onOverlayClick:G,onOverlayKeydown:X,onPlayerError:$,onThumbnailError:Q}),(0,a.jsx)(N,{animation:s,isMenuDisabled:r,onTitleClick:Y,projectName:u,showAddToCollection:Boolean(g),showUpdatedUser:C,title:M,updatedDate:n,username:I,showActionsMenu:T,showFilledIcon:T})]})}),(0,a.jsx)(w,{show:K,animationId:s.id,animationName:s.name,close:B})]})}},18406:function(e,s,l){l.d(s,{A:function(){return v}});var a=l(97458),n=l(83849),t=l.n(n),r=l(8e3),i=l.n(r),c=l(52983),o=l(33650),d=l(14700),u=l(30537),h=l(84049),m=l(66823),x=l(63988),b=l(31945),f=l(92646);const j=i()((async()=>l.e(2471).then(l.bind(l,12471))),{loadableGenerated:{webpack:()=>[12471]},ssr:!1}),v=e=>{let{date:s,disabled:l,filesCount:n,folder:r,isSelected:i=!1,onClick:v,onDownloadAllClick:p,onSelectionChange:g,project:y,scopes:C,selectable:w=!1,selectionMode:k=!1,showUpdatedUser:N=!0,title:S,username:M}=e;var A,E,F,I,T,Z;const{canDownload:D,canFullAccess:K}=(0,x.a)({scopes:C||[]}),[R,z]=(0,c.useState)(!1),O=(0,c.useCallback)((()=>{g&&g()}),[g]),P=(0,c.useCallback)((()=>{z(!0)}),[]),U=(0,c.useCallback)((()=>{z(!1)}),[]),H=(0,c.useCallback)((e=>{if(k&&g)g();else if(v){const s=b.Mq?e.metaKey:e.ctrlKey;v(s)}}),[v,g,k]),V=(0,c.useCallback)((e=>{if("Space"===e.key)if(k&&g)g();else if(v){const s=b.Mq?e.metaKey:e.ctrlKey;v(s)}}),[v,g,k]),_=(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col w-10/12",children:[(0,a.jsx)("button",{onClick:H,type:"button",className:"w-full",children:(0,a.jsx)(h.Z,{truncate:!0,title:S,children:S})}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[N?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.Z,{variant:"caption-1",truncate:!0,color:"gray",children:(0,a.jsx)("span",{children:"Modified by ".concat(M,", ")})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{variant:"caption-1",truncate:!0,color:"gray",children:"in ".concat(y)}),(0,a.jsx)(h.Z,{variant:"caption-1",color:"gray",children:(0,a.jsx)("span",{children:"â€¢"})})]}),s&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsxs)(h.Z,{variant:"caption-1",color:"gray",children:[!N&&(0,a.jsx)("span",{children:"Modified "}),(0,a.jsx)(u.v,{date:s})]})})]})]}),(K()||D())&&(0,a.jsx)("div",{className:"flex items-center invisible group-hover:visible",children:(0,a.jsx)(j,{show:R&&!i,folder:r,onDownloadAllClick:p})})]});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:t()("relative z-0 group w-full",{"opacity-50":l}),onMouseEnter:P,onMouseLeave:U,children:[(0,a.jsx)("svg",{className:t()("",{"text-actionPrimary":i," text-gray-100":!i}),viewBox:"0 0 256 256",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.5 6.11473C1.5 3.56609 3.56608 1.5 6.11472 1.5H86.1486C87.0597 1.5 87.9503 1.76967 88.7084 2.27504L109.627 16.2211C110.878 17.055 112.348 17.5 113.851 17.5H249.885C252.434 17.5 254.5 19.5661 254.5 22.1147V249.885C254.5 252.434 252.434 254.5 249.885 254.5H6.11473C3.56609 254.5 1.5 252.434 1.5 249.885V6.11473Z",fill:"white",stroke:"currentColor",strokeWidth:"3"})}),(0,a.jsx)("div",{className:"absolute z-20 right-2 top-6",children:(R&&w||i||k)&&K()&&(0,a.jsx)(m.X,{label:"check-card",checked:i,onChange:O})}),(0,a.jsxs)("div",{className:"absolute w-full inset-0 flex flex-col px-2.5 py-1.5",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-[calc(100%/16)]"}),(0,a.jsxs)("div",{className:"relative h-[calc(100%-4rem)] flex flex-col items-center justify-center pt-1.5",children:[(0,a.jsx)("div",{onClick:H,onKeyDown:V,className:"absolute inset-0 z-10 cursor-pointer"}),n?(0,a.jsxs)(a.Fragment,{children:[1===n&&(0,a.jsx)(d.Z,{additionalClasses:"overflow-hidden h-full w-full relative",children:(0,a.jsx)("div",{className:"absolute inset-0 mx-auto",children:r.thumbnails&&r.thumbnails.length>0&&(0,a.jsx)(o.y,{src:(0,f.h)(null===(A=r.thumbnails[0])||void 0===A?void 0:A.thumbnails),alt:S})})}),n&&2===n&&(0,a.jsxs)("div",{className:"grid w-full h-full grid-cols-2 gap-2",children:[(0,a.jsx)("div",{className:"relative flex col-span-1",children:(0,a.jsx)(d.Z,{additionalClasses:"flex absolute inset-0",children:r.thumbnails&&r.thumbnails.length>0&&(0,a.jsx)(o.y,{alt:r.name,src:(0,f.h)(null===(E=r.thumbnails[0])||void 0===E?void 0:E.thumbnails)})})}),(0,a.jsx)("div",{className:"relative flex col-span-1",children:(0,a.jsx)(d.Z,{additionalClasses:"overflow-hidden absolute inset-0",children:r.thumbnails&&r.thumbnails.length>0&&(0,a.jsx)(o.y,{alt:r.name,src:(0,f.h)(null===(F=r.thumbnails[1])||void 0===F?void 0:F.thumbnails)})})})]}),n&&n>2&&(0,a.jsxs)("div",{className:"grid w-full h-full grid-cols-3 gap-2 ",children:[(0,a.jsx)("div",{className:"relative col-span-2",children:(0,a.jsx)(d.Z,{additionalClasses:"overflow-hidden absolute inset-0",children:r.thumbnails&&r.thumbnails.length>0&&r.thumbnails[0]&&(0,a.jsx)(o.y,{alt:r.name,src:(0,f.h)(null===(I=r.thumbnails[0])||void 0===I?void 0:I.thumbnails)})})}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)("div",{className:"relative flex-1",children:(0,a.jsx)(d.Z,{additionalClasses:"overflow-hidden absolute inset-0",children:r.thumbnails&&r.thumbnails.length>0&&r.thumbnails[1]&&(0,a.jsx)(o.y,{alt:r.name,src:(0,f.h)(null===(T=r.thumbnails[1])||void 0===T?void 0:T.thumbnails)})})}),(0,a.jsx)("div",{className:"relative flex-1",children:n&&3===n?(0,a.jsx)(d.Z,{additionalClasses:"overflow-hidden absolute inset-0",children:r.thumbnails&&r.thumbnails.length>0&&r.thumbnails[2]&&(0,a.jsx)(o.y,{alt:r.name,src:(0,f.h)(null===(Z=r.thumbnails[2])||void 0===Z?void 0:Z.thumbnails)})}):(0,a.jsx)("div",{className:"flex items-center justify-center flex-grow w-full h-full rounded-md bg-gray-50",children:(0,a.jsxs)("p",{className:"text-xl text-gray-900",children:["+",n-2," "]})})})]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{src:"/images/empty-states/empty-folder-thumbnail.svg",className:"opacity-40",width:"130",alt:"Empty folder"})})]}),(0,a.jsx)("div",{className:"py-1.5 pl-1.5",children:(0,a.jsx)(a.Fragment,{children:_})})]})]})})}},4071:function(e,s,l){l.r(s),l.d(s,{RenameAnimationModal:function(){return m}});var a=l(97458),n=l(52983),t=l(80794),r=l(64651),i=l(31945),c=l(49471),o=l(80042),d=l(21199),u=l(9881),h=l(74699);const m=e=>{let{animationId:s,animationName:l,close:m,show:x}=e;const b=(0,h.p)(),[,f]=(0,t.Db)(r.Vl),[j,v]=(0,n.useState)({}),[p,g]=(0,n.useState)(l),[y,C]=(0,n.useState)(!1),[w,k]=(0,n.useState)("");(0,n.useEffect)((()=>{x&&g(l)}),[l,x]);const N=(0,n.useCallback)((e=>{e&&(e.focus(),e.select())}),[]),S=(0,n.useCallback)((async e=>{if(e.preventDefault(),p.length){C(!0);try{const e=await f({id:s,input:{name:p}});e.error?(C(!1),(0,i.I1)(e.error,j,v)):(m(),C(!1))}catch(e){throw C(!1),new Error("An unexpected error occurred during animation rename operation.")}}}),[s,m,j,p,f]),M=(0,n.useCallback)((()=>{m(),v({}),k("")}),[m]),A=(0,n.useCallback)((e=>{const s=e.currentTarget.value.trimStart();g(s),(0,c.s)(s,k),s.length===c.C&&(null==b||b.pushInfo("Asset name shortened to ".concat(c.C," characters")))}),[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.ModalV2,{show:x,title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("h3",{className:"text-lg leading-6 text-gray-900 font-bold",children:"Rename"})}),closeCallback:M,children:(0,a.jsx)("form",{onSubmit:S,children:(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(u.I,{placeholder:"File Name",onChange:A,inputRef:N,value:p,error:(0,i.ie)("name",j)||w,maxLength:c.C})}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(o.z,{text:"Done",onClick:S,disabled:!p.length||y||w.length>0})})]})})})})};s.default=m},59239:function(e,s,l){l.d(s,{h:function(){return n}});var a=l(52983);const n=function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const n=(0,a.useRef)(0),t=(0,a.useRef)(null);return(0,a.useEffect)((()=>()=>{null!==t&&(clearTimeout(t.current),t.current=null)}),[]),(0,a.useCallback)((a=>{if(null!==t.current&&(clearTimeout(t.current),t.current=null),n.current+=1,2===n.current)return s(a),void(n.current=0);t.current=setTimeout((()=>{e(a),n.current=0,t.current=null}),l)}),[e,s,l])}}}]);