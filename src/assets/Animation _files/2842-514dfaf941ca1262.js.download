"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2842],{64798:function(e,t,n){n.d(t,{u:function(){return l}});var a=n(97458);const l=n(52983).forwardRef(((e,t)=>{const{allowForms:n,allowPopups:l,allowScripts:s,allowTopNavigation:o,sandbox:i,src:r,style:u,title:c,...d}=e,f=["allow-same-origin",l&&"allow-popups",s&&"allow-scripts",o&&"allow-top-navigation",n&&"allow-forms"].filter(Boolean).join(" ");return(0,a.jsx)("iframe",{ref:t,title:c,src:r,sandbox:f,style:u,...d})}));l.displayName="IFrame"},94419:function(e,t,n){n.d(t,{K:function(){return a}});const a=(0,n(52983).createContext)({currentFrame:0,totalFrames:0})},55879:function(e,t,n){n.d(t,{w:function(){return r}});var a=n(52983),l=n(12077),s=n(82929),o=n(12124),i=n(5762);function r(){const{user:e}=(0,l.a)(),[t,n]=(0,o.T)("panel"),[,r]=(0,s._)("animation_sidebar_panel_state",{}),u=(0,a.useMemo)((()=>{if("string"==typeof t){const e=Object.values(i.s).find((e=>e===t));if(e)return e}return i.s.NONE}),[t]),c=(0,a.useCallback)((e=>{t!==e&&n(e===i.s.NONE?"":e)}),[n]);return(0,a.useEffect)((()=>{(null==e?void 0:e.id)&&u!==i.s.NONE?r((t=>t[e.id]===u?t:{...t,[e.id]:u})):r({})}),[null==e?void 0:e.id,u]),[u,c]}},12124:function(e,t,n){n.d(t,{T:function(){return s}});var a=n(84650),l=n(52983);function s(e){const t=(0,a.useRouter)();return[t.query[e],(0,l.useCallback)((n=>{const a={...t.query};a[e]=n,""===n&&delete a[e],t.push({query:{...a}},void 0,{shallow:!0})}),[t])]}},55039:function(e,t,n){n.d(t,{Q:function(){return o}});var a=n(97458),l=n(52983),s=n(94419);const o=e=>{let{children:t}=e;const[n,o]=(0,l.useState)(0),[i,r]=(0,l.useState)(0),u=(0,l.useCallback)((e=>{o((t=>Math.floor(e)!==t?e:t))}),[]);return(0,a.jsx)(s.K.Provider,{value:{currentFrame:n,setCurrentFrame:u,totalFrames:i,setTotalFrames:r},children:t})}},81025:function(e,t,n){n.d(t,{J:function(){return h},U:function(){return E}});var a=n(97458),l=n(52983),s=n(55879),o=n(5762),i=n(12124),r=n(1191),u=n(14854),c=n(64798);const d=e=>{let{onClose:t,show:n}=e;const s=l.useCallback((()=>{t()}),[t]),o=l.useCallback((()=>{(0,u.Z9)(new u.E5({action:"state_machines_how_to_url_loaded",target:"iframe framer modal",description:"modal loads how to framer"}))}),[]),i=l.useCallback((e=>{"https://bisque-day-423759.framer.app/".includes(e.origin)&&"click"===e.data.action&&"close"===e.data.intent&&((0,u.Z9)(new u.E5({action:"click",target:"close",description:"Close how to modal"})),s())}),[s]);return l.useEffect((()=>(window.addEventListener("message",i),()=>{window.removeEventListener("message",i)})),[i]),(0,a.jsx)(r.H,{show:n,size:"custom",contentClass:"w-full max-w-[600px]",footerSeparator:!1,closeOnEscape:!0,hideOnBackgroundClick:!0,showHeader:!1,contentPadding:"p-0",children:(0,a.jsx)("div",{className:"h-[500px]",children:(0,a.jsx)(c.u,{allowTopNavigation:!0,allowScripts:!0,allowPopups:!0,allowForms:!0,allow:"clipboard-write",src:"https://bisque-day-423759.framer.app/",title:"Implement State Machine",className:"w-full h-full border-none",onLoad:o})})})};var f=n(78463),m=n(54557),p=n(75800),v=n(84176);const w=l.createContext(null),h=e=>{let{animationResource:t,children:n,onStateMachineToggle:r}=e;const[u]=(0,p.useRecoilState)(v.sI),{start:c}=(0,m.N)(),h=u||t||null,[E,M]=l.useState(""),[C,S]=l.useState(new Map),[b,N]=l.useState(new Map),[g,_]=l.useState(new Map),k=l.useMemo((()=>{var e,t;return(null==h||null===(e=h.fileObject)||void 0===e?void 0:e.stateMachines)?null===(t=h.fileObject)||void 0===t?void 0:t.stateMachines:[]}),[h]),[,T]=(0,s.w)(),[I]=(0,i.T)("panel"),[O,A]=l.useState(!1),[x,y]=l.useState(!1),F=l.useRef(!1),j=l.useMemo((()=>k.map((e=>{var t;return{value:e.id,label:null!==(t=e.displayName)&&void 0!==t?t:e.id}}))),[k]),L=l.useMemo((()=>k.length>0&&j.length>0&&Boolean(E)),[k,j,E]),R=l.useCallback((()=>{const e=!O;A(e),T(e?o.s.STATE_MACHINES:o.s.NONE)}),[O,T]),H=l.useCallback((e=>{M((()=>e)),_(new Map),S(new Map),N(new Map)}),[M]),P=l.useCallback((e=>{if(!F.current){F.current=!0;const{from:t,name:n,type:a,value:l}=e;S((e=>{const s=new Map(e);return s.set(n,{name:n,type:a,value:l,from:t}),s})),setTimeout((()=>{F.current=!1}),0)}}),[]),q=l.useCallback((e=>{if(!F.current){F.current=!0;const{from:t,name:n,type:a,value:l}=e;N((e=>{const s=new Map(e);return s.set(n,{name:n,type:a,value:l,from:t}),s})),setTimeout((()=>{F.current=!1}),0)}}),[]),B=l.useCallback((e=>{e||_(new Map);const{state:t,stateMxn:n}=e;_((e=>{const a=new Map(e);return a.set(n,{state:t}),a}))}),[]),V=l.useCallback((()=>{y((e=>!e))}),[]),D=l.useCallback((e=>{const t=k.find((t=>t.id===e));return t?{inputs:null!==(n=null==t?void 0:t.inputs)&&void 0!==n?n:[],interactions:null!==(a=null==t?void 0:t.interactions)&&void 0!==a?a:[],listeners:null!==(l=null==t?void 0:t.listeners)&&void 0!==l?l:[],triggers:null!==(s=null==t?void 0:t.triggers)&&void 0!==s?s:[],transitions:null!==(o=null==t?void 0:t.transitions)&&void 0!==o?o:[]}:null;var n,a,l,s,o}),[k]),K=l.useCallback((e=>{const t=k.find((t=>t.id===e));if(!t)return null;return[...t.states].sort(((e,n)=>{const a=e.name,l=n.name;return a===t.initial?-1:l===t.initial?1:a.localeCompare(l)})).map(((e,n,a)=>t.initial===e.name?{...e,isFinal:!1,isInitial:!0}:n===a.length-1?{...e,isFinal:!0,isInitial:!1}:{...e,isFinal:!1,isInitial:!1}))}),[k]),U=l.useCallback((e=>{const t=k.find((t=>t.id===e));return t?t.initial:null}),[k]),Z=l.useMemo((()=>({activeStates:g,stateMachines:k,stateMachineMode:O,hasStateMachine:L,selectedStateMachine:E,stateMachineSelection:j,stateMachineInputValues:C,stateMachineEventValues:b,getInitialState:U,getStates:K,getInputsAndInteractions:D,actions:{toggleMode:R,selectStateMachine:H,setActiveStates:B,setEventValue:q,setInputValue:P,toggleHowTo:V}})),[g,O,R,k,U,K,D,H,j,E,L,b,C,B,P,V,q]);return l.useEffect((()=>{null==r||r(O)}),[O,r]),l.useEffect((()=>{var e,t,n,a;I===o.s.STATE_MACHINES?(null==h||null===(t=h.fileObject)||void 0===t||null===(e=t.stateMachines)||void 0===e?void 0:e.length)?A(!0):(A(!1),T(o.s.NONE)):A(Boolean((null==h||null===(a=h.fileObject)||void 0===a||null===(n=a.stateMachines)||void 0===n?void 0:n.length)&&document.fullscreenElement))}),[I,T,h]),l.useEffect((()=>{if(k){const t=k[0];var e;M(null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"")}}),[k]),l.useEffect((()=>{L?O&&c({taskId:f.Oc.STATE_MACHINES}):c({taskId:f.Oc.CREATE_STATE_MACHINE})}),[L,O,c]),(0,a.jsxs)(w.Provider,{value:Z,children:[n,(0,a.jsx)(d,{show:x,onClose:V})]})},E=()=>{const e=l.useContext(w);if(!e)throw new Error("It looks like some problems with State Machines provider");return e}},5762:function(e,t,n){var a;n.d(t,{s:function(){return a}}),function(e){e.ACCESSIBILITY_ANALYZER="accessibility_analyzer",e.COLOR_PALETTES="color_palettes",e.COMMENTS="comments",e.DOWNLOAD="download",e.EMBED="embed",e.FILE_INFO="file_info",e.LOTTIE_MOCKUP="lottie_mockup",e.NONE="none",e.QRCODE="qrcode",e.SEGMENT_MOCKUP="segment_mockup",e.STATE_MACHINES="state_machines",e.VERSIONS="versions"}(a||(a={}))}}]);